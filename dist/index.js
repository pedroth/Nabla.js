!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Nabla=r():t.Nabla=r()}(window,(function(){return function(t){var r={};function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var a in t)n.d(e,a,function(r){return t[r]}.bind(null,a));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=0)}([function(t,r,n){"use strict";n.r(r),n.d(r,"Canvas",(function(){return m})),n.d(r,"Canvas2D",(function(){return w})),n.d(r,"ImageIO",(function(){return a})),n.d(r,"Stream",(function(){return A})),n.d(r,"ArrayUtils",(function(){return O})),n.d(r,"Sort",(function(){return N})),n.d(r,"EditDistance",(function(){return D})),n.d(r,"Vector",(function(){return q}));var e={getImageCanvas:function(t){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var n=r.getContext("2d");return n.fillStyle="rgba(0, 0, 0, 0)",n.globalCompositeOperation="source-over",n.fillRect(0,0,r.width,r.height),n.drawImage(t,0,0),r},getDataFromImage:function(t){return canvas=e.getImageCanvas(t),canvas.getContext("2d").getImageData(0,0,t.width,t.height)},loadImage:function(t){var r=new Image;return r.src=t,r.isReady=!1,r.onload=function(){return r.isReady=!0},r},generateImageReadyPredicate:function(t){return function(){return t.isReady}}},a=e;function i(t,r){var n=[];return n[0]=t[0]+r[0],n[1]=t[1]+r[1],n}function o(t){var r=[];return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r}function u(t,r){var n=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n}function c(t,r){return t[0]*r[0]+t[1]*r[1]}function f(t){return c(t,t)}function s(t){return Math.sqrt(c(t,t))}function h(t,r){var n=[];return n[0]=Math.min(t[0],r[0]),n[1]=Math.min(t[1],r[1]),n}function l(t,r){var n=[];return n[0]=Math.max(t[0],r[0]),n[1]=Math.max(t[1],r[1]),n}function p(t,r,n){var e=n[1]/t[1];return[e,(-t[0]*e+n[0])/r]}function g(t,r,n){var e=n[0]/t[0];return[e,(-t[1]*e+n[1])/r]}var d,v=function(t){this.canvas=t,this.ctx=t.getContext("2d"),this.image=this.ctx.getImageData(0,0,t.width,t.height),this.imageData=this.image.data};v.prototype.getSize=function(){return[this.canvas.height,this.canvas.width]},v.prototype.paintImage=function(){this.ctx.putImageData(this.image,0,0)},v.prototype.getCanvas=function(){return this.canvas},v.prototype.clearImage=function(t){this.useCanvasCtx((function(r){var n=r.getSize();r.ctx.fillStyle="rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")",r.ctx.globalCompositeOperation="source-over",r.ctx.fillRect(0,0,n[1],n[0])}),!0)},v.prototype.useCanvasCtx=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r||this.ctx.putImageData(this.image,0,0),t(this),this.image=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.imageData=this.image.data},v.prototype.getImageIndex=function(t){return 4*(this.canvas.width*t[0]+t[1])},v.prototype.getPxl=function(t){var r=this.getImageIndex(t);return[this.imageData[r],this.imageData[r+1],this.imageData[r+2],this.imageData[r+3]]},v.prototype.drawPxl=function(t,r){var n=this.getImageIndex(t);this.imageData[n]=r[0],this.imageData[n+1]=r[1],this.imageData[n+2]=r[2],this.imageData[n+3]=r[3]},v.prototype.drawLine=function(t,r,n){n.points=[t,r];var e=[];e.push(t),e.push(r);for(var a=[],i=[],o=0;o<e.length;o++){0<=(l=e[o])[0]&&l[0]<this.canvas.height&&0<=l[1]&&l[1]<this.canvas.width?a.push(l):i.push(l)}if(2!=a.length){var f=[],s=[r[0]-t[0],r[1]-t[1]];f.push(p(s,-(this.canvas.height-1),[-t[0],-t[1]])),f.push(g(s,-(this.canvas.width-1),[this.canvas.height-1-t[0],-t[1]])),f.push(p(s,this.canvas.height-1,[this.canvas.height-1-t[0],this.canvas.width-1-t[1]])),f.push(g(s,this.canvas.width-1,[-t[0],this.canvas.width-1-t[1]]));var h=[];for(o=0;o<f.length;o++){var l;0<=(l=f[o])[0]&&l[0]<=1&&0<=l[1]&&l[1]<=1&&h.push(l)}if(0!=h.length)if(a.length>0){var d=[t[0]+h[0][0]*s[0],t[1]+h[0][0]*s[1]];this.drawLineInt(a.pop(),d,n)}else{var v=[t[0]+h[0][0]*s[0],t[1]+h[0][0]*s[1]];for(o=1;o<h.length;o++){if(c(s=u(d=[t[0]+h[o][0]*s[0],t[1]+h[o][0]*s[1]],v),s)>.001)return void this.drawLineInt(v,d,n)}this.drawLineInt(v,v,n)}}else this.drawLineInt(a[0],a[1],n)},v.prototype.drawLineInt=function(t,r,n){t=o(t),r=o(r);var e=[-1,0,1],a=e.length,f=a*a,s=[];s[0]=t[0],s[1]=t[1];var h=u(r,t),l=[];for(l[0]=-h[1],l[1]=h[0],n(s,n.points,this);s[0]!==r[0]||s[1]!==r[1];){for(var p=Number.MAX_VALUE,g=[],d=0;d<f;d++){var v=e[d%a],m=e[Math.floor(d/a)],y=u(i(s,[v,m]),t),w=Math.abs(c(y,l))-c(y,h);p>w&&(p=w,g=[v,m])}n(s=i(s,g),n.points,this)}n(s,n.points,this)},v.prototype.drawPolygon=function(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.isInsidePolygon,e=[[Number.MAX_VALUE,Number.MAX_VALUE],[Number.MIN_VALUE,Number.MIN_VALUE]],a=0;a<t.length;a++)e[0]=h(t[a],e[0]),e[1]=l(t[a],e[1]);var i=this.getSize(),c=u(i,[1,1]),f=[0,0];e[0]=o(h(c,l(f,e[0]))),e[1]=o(h(c,l(f,e[1])));for(var s=e[0][0];s<e[1][0];s++)for(var p=e[0][1];p<e[1][1];p++){var g=[s,p];n(g,t)&&r(g,t,this)}},v.prototype.drawTriangle=function(t,r,n,e){var a=[t,r,n];this.drawPolygon(a,e,v.isInsideConvex)},v.prototype.drawQuad=function(t,r,n,e,a){this.drawPolygon([t,r,n,e],a)},v.prototype.drawImage=function(t,r){"isReady"in t&&!t.isReady||this.useCanvasCtx((function(n){return n.ctx.drawImage(t,r[1],r[0])}))},v.prototype.drawCircle=function(t,r,n){var e=function(t,r){var n=[];return n[0]=t[0]*r,n[1]=t[1]*r,n}([1,1],r),a=[u(t,e),i(t,e)],c=this.getSize();a[0]=o(h(u(c,[1,1]),l([0,0],a[0]))),a[1]=o(h(u(c,[1,1]),l([0,0],a[1])));for(var f=a[0][0];f<=a[1][0];f++)for(var s=a[0][1];s<=a[1][1];s++){var p=[f,s];this.isInsideCircle(p,t,r)&&n(p,[t,r],this)}},v.prototype.isInsideCircle=function(t,r,n){return f(u(t,r))<=n*n},v.prototype.addEventListener=function(t,r,n){this.canvas.addEventListener(t,r,n)},v.prototype.drawString=function(t,r,n){this.useCanvasCtx((function(e){n(e.ctx),e.ctx.fillText(r,t[1],t[0])}))},v.isInsidePolygon=function(t,r){for(var n=[],e=0,a=r.length,i=0;i<a;i++)n[0]=u(r[(i+1)%a],t),n[1]=u(r[i],t),e+=Math.acos(c(n[0],n[1])/(s(n[0])*s(n[1])));return Math.abs(e-2*Math.PI)<.001},v.isInsideConvex=function(t,r){for(var n=r.length,e=[],a=[],i=0;i<n;i++){e[i]=u(r[(i+1)%n],r[i]);var o=[-e[i][1],e[i][0]],f=u(t,r[i]);a[i]=c(f,o)}var s=e[0][0]*e[1][1]-e[0][1]*e[1][0]>0?1:-1;for(i=0;i<n;i++){if(a[i]*s<0)return!1}return!0},v.simpleShader=function(t){return function(r,n,e){return e.drawPxl(r,t)}},v.colorShader=function(t){return v.interpolateTriangleShader((function(r,n,e,a){for(var i=[0,0,0,0],o=0;o<n.length;o++)i[0]=i[0]+t[o][0]*a[o],i[1]=i[1]+t[o][1]*a[o],i[2]=i[2]+t[o][2]*a[o],i[3]=i[3]+t[o][3]*a[o];e.drawPxl(r,i)}))},v.interpolateQuadShader=function(t){return function(r,n,e){var a=[n[0],n[1],n[2]],i=[n[2],n[3],n[0]],o=v.triangleBaryCoord(r,a);o[0]>0&&o[1]>0&&o[2]>0&&Math.abs(o[0]+o[1]+o[2]-1)<1e-10?t(r,n,e,[o[0],o[1],o[2],0]):(o=v.triangleBaryCoord(r,i),t(r,n,e,[o[2],0,o[0],o[1]]))}},v.interpolateTriangleShader=function(t){return function(r,n,e){alpha=v.triangleBaryCoord(r,n),t(r,n,e,alpha)}},v.interpolateLineShader=function(t){return function(r,n,e){var a=u(n[1],n[0]),i=u(r,n[0]),o=f(a),s=c(i,a);t(r,n,e,0==o?0:s/o)}},v.quadTextureShader=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.bilinearInterpolation,e=null,c=function(c,f,s,p){t.isReady&&null!=e||(e=new v(a.getImageCanvas(t)));for(var g=e,d=g.getSize(),m=[0,0],y=0;y<r.length;y++)m[0]=m[0]+r[y][0]*p[y],m[1]=m[1]+r[y][1]*p[y];var w=[(1-m[1])*(d[1]-1),(d[0]-1)*m[0]],b=o(w=l([0,0],h(u([d[0],d[1]],[1,1]),w))),S=[g.getPxl(b),g.getPxl(i(b,[1,0])),g.getPxl(i(b,[1,1])),g.getPxl(i(b,[0,1]))],x=n(S,u(w,b));s.drawPxl(c,x)};return v.interpolateQuadShader(c)},v.triangleCache=(d=[],{constains:function(t){return null!=d[t%3]},get:function(t){return d[t%3]},set:function(t,r){return d[t%3]=r}}),v.triangleHash=function(t){return[t[0][0],t[1][0],t[2][0],t[0][1],t[1][1],t[2][1]].reduce((function(t,r){return 31*t+r}),1)},v.triangleBaryCoord=function(t,r){var n=v.triangleHash(r),e=[t[0]-r[0][0],t[1]-r[0][1]];if(!v.triangleCache.constains(n)){var a=[r[1][0]-r[0][0],r[1][1]-r[0][1]],i=[r[2][0]-r[0][0],r[2][1]-r[0][1]],o=a[0]*i[1]-a[1]*i[0];v.triangleCache.set(n,{triangle:r,u:a.map((function(t){return t/o})),v:i.map((function(t){return t/o})),det:o,hash:n})}var u=v.triangleCache.get(n),c=u.u,f=u.v;if(0==u.det)return[0,0,0];var s=[f[1]*e[0]-f[0]*e[1],c[0]*e[1]-c[1]*e[0]];return[1-s[0]-s[1],s[0],s[1]]},v.bilinearInterpolation=function(t,r){for(var n=[],e=0;e<t.length;e++){var a=t[0][e]+(t[3][e]-t[0][e])*r[1],i=a+(t[1][e]+(t[2][e]-t[1][e])*r[1]-a)*r[0];n.push(i)}return n},v.createCanvas=function(t,r){var n=document.createElement("canvas");return n.setAttribute("width",t[0]),n.setAttribute("height",t[1]),document.getElementById(r).appendChild(n),n};var m=v,y=function(t,r){if(m.call(this,t),2!=r.length||2!=r[0].length&&2!=r[1].length)throw"camera space must be 2-dim array with 2-dim arrays representing an interval";this.cameraSpace=r};(y.prototype=Object.create(m.prototype)).constructor=y,y.prototype.integerTransform=function(t){return[-(this.canvas.height-1)/(this.cameraSpace[1][1]-this.cameraSpace[1][0])*(t[1]-this.cameraSpace[1][1]),(this.canvas.width-1)/(this.cameraSpace[0][1]-this.cameraSpace[0][0])*(t[0]-this.cameraSpace[0][0])]},y.prototype.inverseTransform=function(t){return[this.cameraSpace[0][0]+(this.cameraSpace[0][1]-this.cameraSpace[0][0])/(this.canvas.width-1)*t[1],this.cameraSpace[1][1]-(this.cameraSpace[1][1]-this.cameraSpace[1][0])/(this.canvas.height-1)*t[0]]},y.prototype.drawLine=function(t,r,n){var e=this.integerTransform(t),a=this.integerTransform(r);m.prototype.drawLine.call(this,e,a,n)},y.prototype.drawTriangle=function(t,r,n,e){var a=this.integerTransform(t),i=this.integerTransform(r),o=this.integerTransform(n);m.prototype.drawTriangle.call(this,a,i,o,e)},y.prototype.drawQuad=function(t,r,n,e,a){var i=this.integerTransform(t),o=this.integerTransform(r),u=this.integerTransform(n),c=this.integerTransform(e);m.prototype.drawQuad.call(this,i,o,u,c,a)},y.prototype.drawCircle=function(t,r,n){var e=this.integerTransform(t),a=this.integerTransform([r,0])[1]-this.integerTransform([0,0])[1];m.prototype.drawCircle.call(this,e,a,n)},y.prototype.drawImage=function(t,r){m.prototype.drawImage.call(this,t,this.integerTransform(r))},y.prototype.drawString=function(t,r,n){var e=this.integerTransform(t);m.prototype.drawString.call(this,e,r,n)},y.prototype.setCamera=function(t){if(2!=t.length||2!=t[0].length&&2!=t[1].length)throw"camera space must be 2-dim array with 2-dim arrays representing an interval";this.cameraSpace=t};var w=y,b=function(t){this.f=t};b.prototype.compose=function(t){var r=this;return new b((function(n){return r.f(t(n))}))},b.prototype.leftCompose=function(t){var r=this;return new b((function(n){return t(r.f(n))}))},b.prototype.apply=function(t){return this.f(t)},b.prototype.get=function(){return this.f},b.of=function(t){return new b(t)};var S=b,x=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return!0};this.gen=t,this.mapFunction=r,this.filterPredicate=n};x.prototype.state=function(){return this.gen.state},x.prototype.hasNext=function(){return this.gen.hasNext(this.filteredState())},x.prototype.filteredState=function(){for(var t=this.state();this.gen.hasNext(t)&&!this.filterPredicate(this.gen.peek(t));)t=this.gen.next(t);return t},x.prototype.head=function(){var t=this.filteredState();if(this.gen.hasNext(t))return this.gen.peek(t);throw"No head element exception"},x.prototype.tail=function(){return new x(x.generatorOf(this.gen.next(this.filteredState()),this.gen.next,this.gen.peek,this.gen.hasNext),this.mapFunction,this.filterPredicate)},x.prototype.map=function(t){return new x(this.gen,S.of(t).compose(this.mapFunction).get(),this.filterPredicate)},x.prototype.reduce=function(t,r){for(var n=this;n.hasNext();){var e=n.head();t=r(t,n.mapFunction(e)),n=n.tail()}return t},x.prototype.forEach=function(t){for(var r=this;r.hasNext();){var n=r.head();t(r.mapFunction(n)),r=r.tail()}},x.prototype.collect=function(t){return this.reduce(t.identity,t.reduce)},x.prototype.filter=function(t){var r=this;return new x(this.gen,this.mapFunction,(function(n){return r.filterPredicate(n)&&t(n)}))},x.prototype.take=function(t){return new x(x.generatorOf({i:0,stream:this},(function(t){return{i:t.i+1,stream:t.stream.tail()}}),(function(t){return t.stream.head()}),(function(r){return r.stream.hasNext()&&r.i<t})),this.mapFunction,this.filterPredicate).collect(x.Collectors.toArray())},x.prototype.takeWhile=function(t){return new x(x.generatorOf(this,(function(t){return t.tail()}),(function(t){return t.head()}),(function(r){return r.hasNext()&&t(r.head())})),this.mapFunction,this.filterPredicate).collect(x.Collectors.toArray())},x.prototype.zip=function(t){return new x(x.generatorOf([this,t],(function(t){return[t[0].tail(),t[1].tail()]}),(function(t){return[t[0].head(),t[1].head()]}),(function(t){return t[0].hasNext()&&t[1].hasNext()})))},x.prototype.flatMap=function(t){return new x(x.generatorOf({baseStream:this,flatStream:null},(function(r){if(!r.flatStream||!r.flatStream.hasNext()){var n=r.baseStream;return{baseStream:n.tail(),flatStream:t(n.head()).tail()}}return{baseStream:r.baseStream,flatStream:r.flatStream.tail()}}),(function(r){return r.flatStream&&r.flatStream.hasNext()?r.flatStream.head():t(r.baseStream.head()).head()}),(function(r){return r.flatStream?r.baseStream.hasNext()||r.flatStream.hasNext():r.baseStream.hasNext()&&t(r.baseStream.head()).hasNext()})))},x.ofHeadTail=function(t,r){return new x(x.generatorOf({h:t,supplier:r},(function(t){var r=t.supplier();return r.hasNext()?{h:r.head(),supplier:function(){return r.tail()}}:{h:null,supplier:null}}),(function(t){return t.h}),(function(t){return null!=t.h})))},x.of=function(t){for(var r=[{name:"Array",predicate:function(t){return t.constructor===Array}},{name:"Generator",predicate:function(t){return"function"==typeof t.hasNext&&"function"==typeof t.next&&"function"==typeof t.peek}},{name:"Stream",predicate:function(t){return t.__proto__==x.prototype}}],n={Array:function(t){return new x(x.generatorOf({i:0,array:t},(function(t){return{i:t.i+1,array:t.array}}),(function(t){return t.array[t.i]}),(function(t){return t.i<t.array.length})))},Generator:function(t){return new x(t)},Stream:function(t){return new x(t.gen,t.mapFunction,t.filterPredicate)}},e=0;e<r.length;e++)if(r[e].predicate(t))return n[r[e].name](t);throw"Iterable ".concat(t," does not have a stream")},x.range=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new x(x.generatorOf(t,(function(t){return t+n}),(function(t){return t}),(function(t){return null==r||t<r})))},x.generatorOf=function(t,r,n,e){return new function(){this.state=t,this.next=r,this.peek=n,this.hasNext=e}},x.Collectors={toArray:function(){return new function(){this.identity=[],this.reduce=function(t,r){return t.push(r),t}}}};var A=x;function I(t){return function(t){if(Array.isArray(t)){for(var r=0,n=new Array(t.length);r<t.length;r++)n[r]=t[r];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var C={concat:function(t,r){return t.concat(r)},arrayEquals:function(t,r){if(t.length!=r.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=r[n])return!1;return!0},permute:function(t,r){for(var n=t.slice(),e=Math.min(t.length,r.length),a=0;a<e;a++)n[r[a]]=t[a];return n},randomPermute:function(t){for(var r=I(t),n=t.length-1;n>0;n--){var e=Math.floor(Math.random()*(n+1)),a=r[n];r[n]=r[e],r[e]=a}return r},swap:function(t,r,n){var e=t[r];return t[r]=t[n],t[n]=e,t},findJsArrayDim:function(t){return t instanceof Array?C.concat(C.findJsArrayDim(t[0]),[t.length]):[]},unpackJsArray:function(t){if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r=C.concat(r,C.unpackJsArray(t[n]));return r}return[t]},range:function(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=[],a=t;a<r;a+=n)e.push(a);return e},binaryOp:function(t,r,n){for(var e=t.length<r.length?t.slice():r.slice(),a=0;a<e.length;a++)e[a]=n(t[a],r[a]);return e},map:function(t,r){for(var n=[],e=0;e<t.length;e++)n.push(r(t[e],e));return n},filter:function(t,r){for(var n=[],e=0;e<t.length;e++)r(t[e],e)&&n.push(t[e]);return n},forEach:function(t,r){for(var n=0;n<t.length;n++)r(t[n],n)}},O=C;function P(t){return function(t){if(Array.isArray(t)){for(var r=0,n=new Array(t.length);r<t.length;r++)n[r]=t[r];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var M={};function T(t,r,n){if(r>=0&&r<t.length&&n>=0&&n<t.length){var e=t[r];t[r]=t[n],t[n]=e}}M.quicksort=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,r){return t-r},n=t.length,e=P(t),a=[];for(a.push(0),a.push(n-1);a.length>0;){var i=a.pop(),o=a.pop();if(o<i){var u=o+Math.floor((i-o)*Math.random()),c=e[u];T(e,u,i);for(var f=o,s=o;s<i;s++)r(e[s],c)<=0&&(T(e,s,f),f++);T(e,f,i),a.push(o),a.push(f-1),a.push(f+1),a.push(i)}}return e},M.REVERSE_SORT_COMPARATOR=function(t,r){return r-t};var N=M,j={distanceFactory:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(e,a){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){},o=e.length,u=a.length,c=k(o+1,u+1),f=0;f<o+1;f++)c[f][0]=f*r;for(var s=0;s<u+1;s++)c[0][s]=s*n;for(var h=1;h<o+1;h++)for(var l=1;l<u+1;l++){var p=e[h-1]===a[l-1],g=c[h-1][l]+r,d=c[h][l-1]+n,v=c[h-1][l-1]+(p?0:t);c[h][l]=E(g,d,v)}return i(c,e,a),c[o][u]}}};j.distance=j.distanceFactory(),j.printDistanceMatrix=function(t,r,n){var e=[];t.forEach((function(t,r){var n=[];t.forEach((function(t,r){return n.push("".concat(t))})),e.push(n.join(" "))})),console.log("w1: ".concat(r,", w2: ").concat(n),e.join("\n"))};var k=function(t,r){return Array.from(Array(t),(function(){return new Array(r)}))},E=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce((function(t,r){return Math.min(t,r)}),Number.MAX_VALUE)},D=j;function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function R(t,r,n){return(R=_()?Reflect.construct:function(t,r,n){var e=[null];e.push.apply(e,r);var a=new(Function.bind.apply(t,e));return n&&L(a,n.prototype),a}).apply(null,arguments)}function L(t,r){return(L=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function F(t){return function(t){if(Array.isArray(t)){for(var r=0,n=new Array(t.length);r<t.length;r++)n[r]=t[r];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function V(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function z(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function U(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var q=function(){function t(){V(this,t);for(var r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];this.vec=n.map((function(t){return t||0}))}var r,n,e;return r=t,e=[{key:"fromArray",value:function(r){return R(t,F(r))}},{key:"of",value:function(){for(var r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];return R(t,n)}}],(n=[{key:"toArray",value:function(){return F(this.vec)}},{key:"toString",value:function(){return"["+this.vec.join(", ")+"]"}},{key:"add",value:function(t){return this.op(t,(function(t,r){return t+r}))}},{key:"sub",value:function(t){return this.op(t,(function(t,r){return t-r}))}},{key:"mul",value:function(t){return this.op(t,(function(t,r){return t*r}))}},{key:"div",value:function(t){return this.op(t,(function(t,r){return t/r}))}},{key:"dot",value:function(t){return this.vec.reduce((function(r,n,e){return r+n*t.vec[e]}),0)}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"normalize",value:function(){return this.scale(1/this.length())}},{key:"scale",value:function(t){return this.map((function(r){return r*t}))}},{key:"map",value:function(r){return t.fromArray(this.vec.map(r))}},{key:"op",value:function(r,n){return t.fromArray(this.vec.map((function(t,e){return n(t,r.vec[e])})))}},{key:"reduce",value:function(t,r){return this.vec.reduce(t,r)}}])&&z(r.prototype,n),e&&z(r,e),t}();U(q,"ZERO",(function(t){return R(q,F(new Array(t).fill(0)))})),U(q,"e",(function(t){return function(r){return R(q,F(new Array(t).fill(0).map((function(t,n){return n===r?1:0}))))}}))}])}));